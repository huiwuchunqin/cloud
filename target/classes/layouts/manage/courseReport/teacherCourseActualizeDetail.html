<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>教师课程实施情况统计</title> <#include "/manage/common/meta_js.html"/>
<#include "/manage/common/meta_css.html"/>
</head>
<body class="easyui-layout">
	<div data-options="region:'north'" style="overflow: hidden">
		<div id="tb" class="tbClass">
			<div class="attr">
				<span>姓名：</span> <label id="teacherName"></label>
			</div>
			<div class="attr">
				<span>学校：</span> <label id="orgName"></label>
			</div>
			<!-- 	<div class="attr">
		<span>课程数：</span>
		<label id="lessonNum"></label>
		</div>
		<div class="attr">
		<span>班级课程发布数：</span>
		<label id="publishNum"></label>
		</div>
		<div class="attr">
		<span>班级课程实施数：</span>
		<label id="finishNum"></label>
		</div> -->
			<button class="btn btnBlue align-right" onclick="exportData()">导出</button>
		</div>
	</div>
	<div data-options="region:'center'">


		<table class="easyui-datagrid"
			data-options="
		pagination:true,
		rownumbers:true,
		onBeforeLoad:onBeforeLoad,
		fit:true,
		fitColumns:true,
		url:'/manage/teacherCourseActualize/search/detail.html'
		">
			<thead>
				<tr>
					<th data-options="field:'lessonName',width:150,align:'center'">课程名</th>
					<th data-options="field:'subjectName',width:90,align:'center'">学科</th>
					<th data-options="field:'lessonMode',width:120,align:'center'">创建类型</th>
					<th
						data-options="field:'createTime',width:150,align:'center',formatter:timeLongfmt">创建(引用)时间</th>
					<th
						data-options="field:'publishTime',width:150,align:'center',formatter:timeLongfmt">发布时间</th>
					<th data-options="field:'teachingClassName',width:120">发布班级</th>
					<th data-options="field:'flagFinish',width:90,align:'center'">是否实施</th>
					<th
						data-options="field:'coverage',width:110,align:'right',formatter:pecentfmt">课前任务单完成率</th>
					<th data-options="field:'pushCount',width:110,align:'right'">课堂推送次数</th>
					<th data-options="field:'pushFinishCount',width:130,align:'right'">课堂推送完成次数</th>
					<th
						data-options="field:'interactionMaxTCR',width:130,align:'right',formatter:pecentfmt">互动课堂最高完成率</th>
				</tr>
			</thead>
		</table>
	</div>
	<script type="text/javascript">
		var _param = window.top.$("#teacherCourseActualizefm").data("param");
		$(function() {
			$('#teacherName').html(_param.teacherName);
			$('#orgName').html(_param.orgName);
			/*$('#publishNum').html(_param.publishNum);
			$('#finishNum').html(_param.finishNum);
			$('#lessonNum').html(_param.lessonNum); */
		})
		function onBeforeLoad(param) {
			param = $.extend(param, _param);
		}

		//导出数据
		function exportData() {
			var fileName = _param.orgName + "-" + _param.teacherName + "-"
					+ getExportName();
			var param = $.extend({
				"fileName" : fileName
			}, _param);
			downloadHelper(urlWithParam(
					'/manage/teacherCourseActualize/export/detail.html', param))

		}
	</script>
</body>
</html>