<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<#include "/manage/common/meta_js.html"/> 
<#include "/manage/common/meta_css.html"/>
<title>云盘参数修改页面</title> 
</head>
<body class="easyui-layout" data-options="fit:true">
    <div data-options="region:'north',border:false" style="height: 50px;padding-left: 10px;padding-top: 10px">
		<span>云盘空间大小</span>
		<input id="capacityQuota" class="easyui-numberbox" data-options="min:1,max:100" name="capacityQuota"/>GB
    </div>
    <div data-options="region:'south',border:false" style="text-align: center">
        <a class="btn btnConfirm" onclick="save()">确定</a>
		<a class="btn btnCancel" onclick="cancelSave()">取消</a>
    </div>
    
    <script type="text/javascript">
        
        $(function(){
        	$('#capacityQuota').numberbox('setValue',"${diskParam.capacityQuota}");
        })
        //取消操作
        function cancelSave(){
        	easyui_closeTopWindow(false);
        }
        
        //保存操作
        function save(){
        	var capacityQuota=$('#capacityQuota').numberbox('getValue');
        	if(capacityQuota==null||capacityQuota==""){
        		$.messager.alert('消息','云盘空间大小不能为空！','info');
        		return false;
        	}
        	var data={
        		capacityQuota:capacityQuota,
        		userRole:"${diskParam.userRole}",
        		gid:"${diskParam.gid}"
        	}
        	var opts = {
					url : '/manage/otherSettings/cloudDisk/save.html',
					type : "post",
					data : data,
					success : function(res) {
						window.top.$.messager.alert("提示", res.msg, "info");
						if(res.success){
							easyui_closeTopWindow(true);
						}
					},
					error : function(XMLHttpRequest, textStatus, errorThrown) {
						alert("网络繁忙请稍后再试");
					},
					complete : function() {

					}
				}
			$.ajax(opts);
        }
    </script>
</body>
</html>